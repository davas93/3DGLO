(()=>{"use strict";var t,e,n,o,c,r,a,i,s,l,u,d,m,v,f,h,p,g;v=document.querySelector("#timer"),f=document.querySelector("#timer-hours"),h=document.querySelector("#timer-minutes"),p=document.querySelector("#timer-seconds"),g=setInterval((function(){var t,e,n,o=(t=(new Date("31 December 2020").getTime()-(new Date).getTime())/1e3,e=Math.floor(t%60),n=Math.floor(t/60%60),{timeRemaining:t,hours:Math.floor(t/60/60),minutes:n,seconds:e});f.textContent=o.hours<10?"0"+o.hours:o.hours,h.textContent=o.minutes<10?"0"+o.minutes:o.minutes,p.textContent=o.seconds<10?"0"+o.seconds:o.seconds,o.timeRemaining<=0&&(f.textContent="00",h.textContent="00",p.textContent="00",v.style.color="red",clearInterval(g))}),1e3),m=document.querySelector("menu"),document.addEventListener("click",(function(t){var e=t.target;e.closest(".menu")||e.matches(".close-btn")||e.closest("menu>ul>li")?m.classList.toggle("active-menu"):e.matches(".active-menu")||m.classList.remove("active-menu")})),u=document.querySelectorAll("menu>ul>li>a"),d=document.querySelector('main>a[href = "#service-block"'),u.forEach((function(t){t.addEventListener("click",(function(e){e.preventDefault(),l=t.getAttribute("href"),document.querySelector(l).scrollIntoView({behavior:"smooth",block:"start"})}))})),d.addEventListener("click",(function(t){t.preventDefault(),l=d.getAttribute("href"),document.querySelector(l).scrollIntoView({behavior:"smooth",block:"start"})})),c=document.querySelector(".popup"),r=document.querySelectorAll(".popup-btn"),a=document.querySelector(".popup-content"),i=-500,s=function t(){window.outerWidth>=768&&(a.style.transform="translateX(".concat(i,"px)"),(i+=20)<0?requestAnimationFrame(t):(i=-500,cancelAnimationFrame(t)))},r.forEach((function(t){t.addEventListener("click",(function(){c.style.display="block",requestAnimationFrame(s)}))})),c.addEventListener("click",(function(t){var e=t.target;e.classList.contains("popup-close")?c.style.display="none":(e=e.closest(".popup-content"))||(c.style.display="none")})),e=document.querySelector(".service-header"),n=e.querySelectorAll(".service-header-tab"),o=document.querySelectorAll(".service-tab"),e.addEventListener("click",(function(t){var e=t.target;(e=e.closest(".service-header-tab"))&&n.forEach((function(t,c){t===e&&function(t){for(var e=0;e<o.length;e++)t===e?(n[e].classList.add("active"),o[e].classList.remove("d-none")):(n[e].classList.remove("active"),o[e].classList.add("d-none"))}(c)}))})),function(){var t=document.querySelectorAll(".portfolio-item"),e=document.querySelector(".portfolio-content"),n=document.querySelector(".portfolio-dots");!function(){for(var e=0;e<t.length;e++){var o=document.createElement("li");o.classList.add("dot"),n.append(o),n.firstElementChild.classList.add("dot-active")}}();var o,c=document.querySelectorAll(".dot"),r=0,a=function(t,e,n){t[e].classList.remove(n)},i=function(t,e,n){t[e].classList.add(n)},s=function(){a(t,r,"portfolio-item-active"),a(c,r,"dot-active"),++r>=t.length&&(r=0),i(t,r,"portfolio-item-active"),i(c,r,"dot-active")},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;o=setInterval(s,t)};e.addEventListener("click",(function(e){e.preventDefault();var n=e.target;n.matches(".portfolio-btn, .dot")&&(a(t,r,"portfolio-item-active"),a(c,r,"dot-active"),n.matches("#arrow-right")?r++:n.matches("#arrow-left")?r--:n.matches(".dot")&&c.forEach((function(t,e){t===n&&(r=e)})),r>=t.length&&(r=0),r<0&&(r=t.length-1),i(t,r,"portfolio-item-active"),i(c,r,"dot-active"))})),e.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(o)})),e.addEventListener("mouseout",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&l(2e3)})),l(2e3)}(),document.querySelectorAll(".command__photo").forEach((function(e){e.addEventListener("mouseenter",(function(e){t=e.target.src,e.target.src=e.target.dataset.img})),e.addEventListener("mouseleave",(function(e){e.target.src=t}))})),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=document.querySelectorAll("input.calc-item"),n=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),c=document.querySelector(".calc-square"),r=document.querySelector(".calc-day"),a=document.querySelector(".calc-count"),i=document.getElementById("total");e.forEach((function(t){t.addEventListener("input",(function(){t.value=t.value.replace(/\D/g,"")}))}));var s=function(){var e=0,n=1,s=1,l=o.options[o.selectedIndex].value,u=+c.value;a.value>1&&(n+=(a.value-1)/10),r.value&&r.value<5?s*=2:r.value&&r.value<10&&(s*=1.5),l&&u&&(e=t*l*u*n*s),i.textContent=e};n.addEventListener("change",(function(t){var e=t.target;(e.matches("select")||e.matches("input"))&&s()}))}(100),maskPhone("input[name = user_phone]"),document.addEventListener("input",(function(t){var e=t.target;(e.matches("input[name = user_message]")||e.matches("input[name = user_name]"))&&(e.value=e.value.replace(/[^а-яА-Я\s]+/g,""))})),function(){var t=document.createElement("div");t.style.color="#FFFFFF",document.addEventListener("submit",(function(n){n.preventDefault();var o=n.target;if(o.matches("#form1")||o.matches("#form2")||o.matches("#form3")){var c=o.querySelectorAll("input");o.appendChild(t),t.innerHTML='<div class="lds-ring">\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t\t<div></div>\n\t\t</div><br></br>\n\t\t<span>Пожалуйста, подождите...</span>';var r=new FormData(o),a={};r.forEach((function(t,e){a[e]=t})),e(a).then((function(e){if(200!==e.status)throw new Error("status network not 200");t.innerHTML='<svg\n\t\t\tclass="checkmark success"\n\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\tviewBox="0 0 52 52"\n\t\t>\n\t\t\t<circle\n\t\t\t\tclass="checkmark_circle_success"\n\t\t\t\tcx="26"\n\t\t\t\tcy="26"\n\t\t\t\tr="25"\n\t\t\t\tfill="none"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\tclass="checkmark_check"\n\t\t\t\tfill="none"\n\t\t\t\td="M14.1 27.2l7.1 7.2 16.7-16.8"\n\t\t\t\tstroke-linecap="round"\n\t\t\t/>\n\t\t</svg>\n\t\t<span>Cпасибо за обращение! Мы скоро с Вами свяжемся ;)</span>',setTimeout((function(){t.remove()}),5e3)})).catch((function(e){t.innerHTML='<svg\n\t\t\tclass="checkmark error"\n\t\t\txmlns="http://www.w3.org/2000/svg"\n\t\t\tviewBox="0 0 52 52"\n\t\t>\n\t\t\t<circle\n\t\t\t\tclass="checkmark_circle_error"\n\t\t\t\tcx="26"\n\t\t\t\tcy="26"\n\t\t\t\tr="25"\n\t\t\t\tfill="none"\n\t\t\t/>\n\t\t\t<path\n\t\t\t\tclass="checkmark_check"\n\t\t\t\tstroke-linecap="round"\n\t\t\t\tfill="none"\n\t\t\t\td="M16 16 36 36 M36 16 16 36\n"\n\t\t\t/>\n\t\t</svg>\n\t\t<span>Упс! Что-то пошло не так :(</span>',console.error(e),setTimeout((function(){t.remove()}),5e3)})),c.forEach((function(t){t.value=""}))}}));var e=function(t){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}}()})();